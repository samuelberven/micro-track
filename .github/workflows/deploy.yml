# name: Deploy Backend to Cloud Run
# on:
#   push:
#     branches:
#       - production  # Only runs when you push to production branch

# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#     steps:
#     - name: Checkout repository
#       uses: actions/checkout@v3

#     - name: Authenticate with Google Cloud
#       uses: google-github-actions/auth@v1
#       with:
#         credentials_json: '${{ secrets.GCP_SERVICE_ACCOUNT }}'

#     - name: Set up Docker
#       uses: docker/setup-buildx-action@v2

#     - name: Build and Push Backend Docker Image
#       run: |
#         docker build -t gcr.io/YOUR_PROJECT_ID/backend .
#         docker push gcr.io/YOUR_PROJECT_ID/backend

#     - name: Deploy to Cloud Run
#       run: |
#         gcloud run deploy backend \
#           --image gcr.io/YOUR_PROJECT_ID/backend \
#           --platform managed \
#           --region us-central1 \
#           --allow-unauthenticated \
#           --set-env-vars DATABASE_URL=mysql://USER:PASSWORD@YOUR_RDS_HOST/DATABASE_NAME
